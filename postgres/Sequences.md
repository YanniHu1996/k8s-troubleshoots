In PostgreSQL, a **sequence** is a special kind of database object designed for generating unique numeric values. Sequences are often used to provide values for the `SERIAL` or `BIGSERIAL` data types, which automatically increment a number for each new row in a table. This is commonly used for generating unique primary keys.

A sequence is not tied to a specific table or column. It is its own independent object, and you can manually control it, increment it, and even set it to repeat.

### Key Features:
- Generates sequential integer values.
- Can specify increment (positive or negative), starting point, and limits.
- Values generated by sequences are unique but may have gaps (if transactions fail or are rolled back).

### Basic Syntax
To create a sequence, you use the following syntax:

```sql
CREATE SEQUENCE sequence_name
    [ INCREMENT BY increment ]
    [ START WITH start ]
    [ MINVALUE minvalue ]
    [ MAXVALUE maxvalue ]
    [ CYCLE | NO CYCLE ];
```

Here:
- `INCREMENT BY` specifies the increment step (default is 1).
- `START WITH` defines the first value to be generated (default is 1).
- `MINVALUE` and `MAXVALUE` define the minimum and maximum values for the sequence.
- `CYCLE` allows the sequence to start over when it reaches the `MAXVALUE`.
- `NO CYCLE` (default) stops generating numbers after reaching `MAXVALUE`.

### Using Sequences

1. **Create a Sequence**
   
   You can create a simple sequence like this:
   
   ```sql
   CREATE SEQUENCE employee_id_seq
       START WITH 1
       INCREMENT BY 1
       NO MINVALUE
       NO MAXVALUE
       CACHE 1;
   ```

   This creates a sequence named `employee_id_seq` that starts at 1 and increments by 1 with no upper or lower bounds.

2. **Get the Next Value from a Sequence**
   
   To get the next value from a sequence, use the `nextval()` function:
   
   ```sql
   SELECT nextval('employee_id_seq');
   ```

   Each call to `nextval('employee_id_seq')` increments the sequence and returns the new value.

3. **Using Sequences with Tables**
   
   Sequences are often used to auto-generate primary key values. For example:
   
   ```sql
   CREATE TABLE employees (
       id INT PRIMARY KEY DEFAULT nextval('employee_id_seq'),
       name TEXT
   );
   ```
   
   Now, whenever a new row is inserted into the `employees` table, a unique `id` is automatically generated by the sequence:
   
   ```sql
   INSERT INTO employees (name) VALUES ('John Doe');
   ```
   
   This will insert a new row, and the `id` will be filled with the next value from the sequence.

4. **Setting or Adjusting Sequence Values**
   
   You can set or alter the current value of a sequence using the `setval()` function:
   
   ```sql
   SELECT setval('employee_id_seq', 100);
   ```
   
   This will reset the sequence to start from 100.

5. **Viewing Sequence Information**
   
   To see the current state of a sequence, you can use the `currval()` function (note: you must call `nextval()` at least once in the current session before `currval()` can be used):
   
   ```sql
   SELECT currval('employee_id_seq');
   ```

### Complete Example

```sql
-- 1. Create a sequence
CREATE SEQUENCE employee_id_seq
    START WITH 1
    INCREMENT BY 1;

-- 2. Create a table that uses the sequence
CREATE TABLE employees (
    id INT PRIMARY KEY DEFAULT nextval('employee_id_seq'),
    name TEXT
);

-- 3. Insert some rows
INSERT INTO employees (name) VALUES ('John Doe');
INSERT INTO employees (name) VALUES ('Jane Smith');

-- 4. Check the data
SELECT * FROM employees;

-- Output might be:
--  id |    name
-- ----+------------
--   1 | John Doe
--   2 | Jane Smith
```

### Altering a Sequence
If you want to modify an existing sequence, you can use the `ALTER SEQUENCE` command:

```sql
ALTER SEQUENCE employee_id_seq RESTART WITH 200;
```

This will cause the next call to `nextval('employee_id_seq')` to return 200.

### Dropping a Sequence

To drop a sequence, use the `DROP SEQUENCE` command:

```sql
DROP SEQUENCE employee_id_seq;
```

This will remove the sequence from the database.

### Important Notes:
- Sequences are often used in conjunction with `SERIAL` or `BIGSERIAL` data types, which are shorthand for creating an integer column that automatically uses a sequence to assign unique values.
- Sequences are not transactional. Even if a transaction fails or is rolled back, the value that was generated by `nextval()` will not be reused. This can cause gaps in the numbering.

Sequences provide a flexible way to generate unique numbers in PostgreSQL, especially for auto-incrementing primary keys.
